<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Study Portal - K-12</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        'primary-dark': '#4A49C7',
                    }
                }
            }
        }
    </script>
    <style>
        .topic-card {
            transition: all 0.2s ease-in-out;
        }
        .topic-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(93, 92, 222, 0.15);
        }
        .subtopic {
            opacity: 0.7;
            font-size: 0.875rem;
        }
        .search-highlight {
            background-color: #fef08a;
        }
        .dark .search-highlight {
            background-color: #713f12;
            color: #fef08a;
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 min-h-screen transition-colors duration-300">
    <!-- Header -->
    <header class="bg-primary dark:bg-primary-dark text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <h1 class="text-xl md:text-2xl font-bold">Physics Study Portal</h1>
                <div class="text-sm opacity-90">K-12 Physics Topics</div>
            </div>
        </div>
    </header>

    <!-- Search Section -->
    <section class="container mx-auto px-4 py-6">
        <div class="max-w-md mx-auto">
            <div class="relative">
                <input 
                    type="search" 
                    id="searchInput" 
                    placeholder="Search physics topics..."
                    class="w-full text-base px-4 py-3 pl-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-gray-900 dark:text-gray-100"
                >
                <svg class="absolute left-3 top-3.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </div>
        </div>
    </section>

    <!-- Topics Grid -->
    <main class="container mx-auto px-4 pb-8">
        <div id="topicsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
            <!-- Topics will be populated by JavaScript -->
        </div>
        
        <!-- No Results Message -->
        <div id="noResults" class="hidden text-center py-12">
            <div class="text-gray-500 dark:text-gray-400">
                <svg class="mx-auto h-12 w-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <h3 class="text-lg font-medium mb-2">No topics found</h3>
                <p>Try adjusting your search terms</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-12">
        <div class="container mx-auto px-4 py-6 text-center text-gray-600 dark:text-gray-400">
            <p>&copy; 2024 Physics Study Portal. Designed for K-12 Students.</p>
        </div>
    </footer>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Physics topics data
        const physicsTopics = [
            {
                id: 1,
                title: "Measurement and Units",
                filename: "measurement-units.html",
                subtopics: ["Length, area and volume", "Mass", "Time", "Fundamental physics quantities", "Derived physical quantities and their units", "Dimensions", "Limitations of experimental measurements", "Measurement, position, distance and displacement"]
            },
            {
                id: 2,
                title: "Scalar",
                filename: "scalar.html",
                subtopics: []
            },
            {
                id: 3,
                title: "Vectors",
                filename: "vectors.html",
                subtopics: []
            },
            {
                id: 4,
                title: "Motion",
                filename: "motion.html",
                subtopics: ["Types of motion", "Relative motion", "Causes of motion", "Types of force", "Linear motion"]
            },
            {
                id: 5,
                title: "Projectiles",
                filename: "projectiles.html",
                subtopics: []
            },
            {
                id: 6,
                title: "Newton's 1st Law of Motion (Inertia)",
                filename: "newtons-first-law.html",
                subtopics: []
            },
            {
                id: 7,
                title: "Newton's 2nd Law of Motion (F = ma)",
                filename: "newtons-second-law.html",
                subtopics: []
            },
            {
                id: 8,
                title: "Newton's 3rd Law of Motion (Action = Reaction)",
                filename: "newtons-third-law.html",
                subtopics: []
            },
            {
                id: 9,
                title: "Conservation of Linear Momentum",
                filename: "linear-momentum.html",
                subtopics: []
            },
            {
                id: 10,
                title: "Circular Motion",
                filename: "circular-motion.html",
                subtopics: []
            },
            {
                id: 11,
                title: "Simple Harmonic Motion",
                filename: "harmonic-motion.html",
                subtopics: []
            },
            {
                id: 12,
                title: "Equilibrium of Forces",
                filename: "equilibrium-forces.html",
                subtopics: ["Equilibrium of particles", "Principles of moments", "Conditions for equilibrium of rigid bodies", "Centre of gravity and stability"]
            },
            {
                id: 13,
                title: "Gravitational Field",
                filename: "gravitational-field.html",
                subtopics: []
            },
            {
                id: 14,
                title: "Work, Energy and Power",
                filename: "work-energy-power.html",
                subtopics: ["Work, energy and power", "Energy and society", "Dams and energy production"]
            },
            {
                id: 15,
                title: "Friction, Viscosity and Surface Tension",
                filename: "friction-viscosity.html",
                subtopics: []
            },
            {
                id: 16,
                title: "Simple Machine",
                filename: "simple-machine.html",
                subtopics: []
            },
            {
                id: 17,
                title: "Elasticity, Hooke's Law and Young's Modulus",
                filename: "elasticity-hookes-law.html",
                subtopics: []
            },
            {
                id: 18,
                title: "Pressure",
                filename: "pressure.html",
                subtopics: ["Atmospheric pressure", "Pressure in liquids"]
            },
            {
                id: 19,
                title: "Liquids at Rest",
                filename: "liquids-rest.html",
                subtopics: []
            },
            {
                id: 20,
                title: "Temperature and its Measurement",
                filename: "temperature-measurement.html",
                subtopics: []
            },
            {
                id: 21,
                title: "Thermal Expansion",
                filename: "thermal-expansion.html",
                subtopics: ["Solids", "Liquids"]
            },
            {
                id: 22,
                title: "Structure of Heat and Kinetic Theory",
                filename: "heat-kinetic-theory.html",
                subtopics: ["Molecular nature of matter", "Kinetic theory"]
            },
            {
                id: 23,
                title: "Gas Laws",
                filename: "gas-laws.html",
                subtopics: []
            },
            {
                id: 24,
                title: "Quantity of Heat",
                filename: "quantity-heat.html",
                subtopics: []
            },
            {
                id: 25,
                title: "Change of State",
                filename: "change-state.html",
                subtopics: []
            },
            {
                id: 26,
                title: "Vapours",
                filename: "vapours.html",
                subtopics: []
            },
            {
                id: 27,
                title: "Heat Transfer",
                filename: "heat-transfer.html",
                subtopics: []
            },
            {
                id: 28,
                title: "Waves",
                filename: "waves.html",
                subtopics: ["Production and propagation", "Classification", "Characteristics/properties"]
            },
            {
                id: 29,
                title: "Propagation of Sound Waves",
                filename: "sound-wave-propagation.html",
                subtopics: []
            },
            {
                id: 30,
                title: "Characteristics of Sound Waves",
                filename: "sound-wave-characteristics.html",
                subtopics: []
            },
            {
                id: 31,
                title: "Light Energy",
                filename: "light-energy.html",
                subtopics: ["Sources of light", "Propagation of light"]
            },
            {
                id: 32,
                title: "Reflection of Light at Plane and Curved Surfaces",
                filename: "light-reflection.html",
                subtopics: []
            },
            {
                id: 33,
                title: "Refraction of Light through Plane and Curved Surfaces",
                filename: "light-refraction.html",
                subtopics: ["Refraction of light", "Glass prism"]
            },
            {
                id: 34,
                title: "Optical Instrument",
                filename: "optical-instruments.html",
                subtopics: []
            },
            {
                id: 35,
                title: "Dispersion of Light and Colours",
                filename: "light-dispersion.html",
                subtopics: ["Dispersion of light", "Electromagnetic spectrum"]
            },
            {
                id: 36,
                title: "Electrostatics",
                filename: "electrostatics.html",
                subtopics: []
            },
            {
                id: 37,
                title: "Capacitors",
                filename: "capacitors.html",
                subtopics: []
            },
            {
                id: 38,
                title: "Electric Cells",
                filename: "electric-cells.html",
                subtopics: []
            },
            {
                id: 39,
                title: "Current Electricity",
                filename: "current-electricity.html",
                subtopics: []
            },
            {
                id: 40,
                title: "Electrical Energy and Power",
                filename: "electrical-energy-power.html",
                subtopics: []
            },
            {
                id: 41,
                title: "Magnets and Magnetic Field",
                filename: "magnets-magnetic-field.html",
                subtopics: []
            },
            {
                id: 42,
                title: "Force on a Current-Carrying Conductor in a Magnetic Field",
                filename: "magnetic-force-conductor.html",
                subtopics: []
            },
            {
                id: 43,
                title: "Electromagnetic Induction",
                filename: "electromagnetic-induction.html",
                subtopics: ["Electromagnetic induction", "Inductance", "Eddy current"]
            },
            {
                id: 44,
                title: "Simple A.C. Circuits",
                filename: "ac-circuits.html",
                subtopics: []
            },
            {
                id: 45,
                title: "Conduction of Electricity",
                filename: "electricity-conduction.html",
                subtopics: ["Through liquids", "Through gases"]
            },
            {
                id: 46,
                title: "Elementary Modern Physics - Bohr's Theory",
                filename: "bohrs-theory.html",
                subtopics: []
            },
            {
                id: 47,
                title: "Introductory Electronics",
                filename: "introductory-electronics.html",
                subtopics: []
            }
        ];

        // Function to create topic card HTML
        function createTopicCard(topic) {
            const subtopicsHTML = topic.subtopics.length > 0 
                ? `<div class="mt-3 space-y-1">
                    ${topic.subtopics.map(subtopic => 
                        `<div class="subtopic text-gray-600 dark:text-gray-400">• ${subtopic}</div>`
                    ).join('')}
                   </div>`
                : '';

            return `
                <div class="topic-card bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 shadow-sm cursor-pointer" 
                     onclick="openTopic('${topic.filename}', '${topic.title}')">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-1 text-sm md:text-base leading-tight">
                                ${topic.title}
                            </h3>
                            <div class="text-xs text-primary font-medium mb-2">Topic ${topic.id}</div>
                            ${subtopicsHTML}
                        </div>
                        <svg class="w-5 h-5 text-gray-400 ml-3 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"></path>
                        </svg>
                    </div>
                </div>
            `;
        }

        // Function to render topics
        function renderTopics(topics) {
            const grid = document.getElementById('topicsGrid');
            const noResults = document.getElementById('noResults');
            
            if (topics.length === 0) {
                grid.classList.add('hidden');
                noResults.classList.remove('hidden');
            } else {
                grid.classList.remove('hidden');
                noResults.classList.add('hidden');
                grid.innerHTML = topics.map(topic => createTopicCard(topic)).join('');
            }
        }

        // Function to highlight search terms
        function highlightSearchTerm(text, searchTerm) {
            if (!searchTerm) return text;
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="search-highlight">$1</span>');
        }

        // Search functionality
        function performSearch(searchTerm) {
            const filtered = physicsTopics.filter(topic => {
                const titleMatch = topic.title.toLowerCase().includes(searchTerm.toLowerCase());
                const subtopicMatch = topic.subtopics.some(subtopic => 
                    subtopic.toLowerCase().includes(searchTerm.toLowerCase())
                );
                return titleMatch || subtopicMatch;
            });

            // Highlight search terms in results
            const highlightedTopics = filtered.map(topic => ({
                ...topic,
                title: highlightSearchTerm(topic.title, searchTerm),
                subtopics: topic.subtopics.map(subtopic => 
                    highlightSearchTerm(subtopic, searchTerm)
                )
            }));

            renderTopics(highlightedTopics);
        }

        // Function to handle topic opening
        function openTopic(filename, title) {
            // In a real implementation, this would navigate to the topic page
            // For now, we'll show a placeholder message
            showCustomAlert(`Would navigate to: ${filename}\n\nTopic: ${title}\n\nNote: Individual topic HTML files should be created in the same folder as this main page.`);
        }

        // Custom alert function to replace browser alert
        function showCustomAlert(message) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3">Navigation Info</h3>
                    <p class="text-gray-700 dark:text-gray-300 mb-4 whitespace-pre-line text-sm">${message}</p>
                    <div class="flex justify-end">
                        <button class="px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg text-sm font-medium" onclick="this.closest('.fixed').remove()">
                            Got it
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Initialize search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.trim();
            if (searchTerm === '') {
                renderTopics(physicsTopics);
            } else {
                performSearch(searchTerm);
            }
        });

        // Initial render
        renderTopics(physicsTopics);

        // Make openTopic function globally available
        window.openTopic = openTopic;
    </script>
</body>
</html>
