<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Study Portal - K-12</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        // Professional Brand Colors
                        primary: {
                            DEFAULT: "#0F2C59", // Deep Navy - Trust, Authority, Stability
                            50: "#f0f3f8",
                            100: "#d6e1ee",
                            500: "#0F2C59",
                            600: "#0a2549",
                            700: "#081e39",
                        },
                        accent: {
                            DEFAULT: "#009F9D", // Consultancy Teal - Innovation, Precision
                            50: "#e6f7f7",
                            100: "#b3ebea",
                            500: "#009F9D",
                            600: "#008280",
                            700: "#006663",
                        },
                        neutral: {
                            25: "#FEFEFE",
                            50: "#F8F9FA", // Warm Light Gray - Cleanliness, Clarity
                            100: "#F1F3F4",
                            200: "#E8EAED",
                            300: "#DADCE0",
                            400: "#BDC1C6",
                            500: "#9AA0A6",
                            600: "#80868B",
                            700: "#5F6368",
                            800: "#2D3748", // Charcoal - Sophistication, Legibility
                            900: "#1F2937",
                        },
                        premium: {
                            DEFAULT: "#D2C1A7", // Pale Sand - Warmth, Approachability
                            50: "#fbf9f6",
                            100: "#f4efe6",
                            500: "#D2C1A7",
                            600: "#c4b095",
                            700: "#b69f83",
                        },
                        data: {
                            DEFAULT: "#5A7B9E", // Steel Blue - Logic, Intelligence
                            50: "#f2f5f9",
                            100: "#e1e9f2",
                            500: "#5A7B9E",
                            600: "#4d6a87",
                            700: "#405970",
                        },
                        success: "#22c55e",
                        warning: "#f59e0b",
                        error: "#ef4444",
                    },
                    boxShadow: {
                        'material-1': '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',
                        'material-2': '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)',
                        'material-3': '0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)',
                        'material-4': '0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)',
                        'material-5': '0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22)',
                    },
                    fontFamily: {
                        'sans': ['Roboto', 'system-ui', 'sans-serif'],
                    },
                    borderRadius: {
                        'material': '4px',
                    }
                }
            }
        }
    </script>
    
    <style>
        .fade-in {
            animation: fadeIn 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .material-card {
            transition: box-shadow 0.28s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .material-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .material-button {
            transition: all 0.15s cubic-bezier(0.4, 0.0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .material-button:active {
            transform: scale(0.98);
        }

        .chemistry-card {
            background: linear-gradient(135deg, rgba(15, 44, 89, 0.05) 0%, rgba(0, 159, 157, 0.05) 100%);
            border: 1px solid rgba(0, 159, 157, 0.2);
        }

        .interactive-element {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .interactive-element:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .search-highlight {
            background-color: #fef08a;
            color: #92400e;
        }

        .dark .search-highlight {
            background-color: #713f12;
            color: #fef08a;
        }

        /* Material Design Typography Scale */
        .headline-1 { font-size: 6rem; font-weight: 300; line-height: 1.167; letter-spacing: -1.5px; }
        .headline-2 { font-size: 3.75rem; font-weight: 300; line-height: 1.2; letter-spacing: -0.5px; }
        .headline-3 { font-size: 3rem; font-weight: 400; line-height: 1.167; letter-spacing: 0; }
        .headline-4 { font-size: 2.125rem; font-weight: 400; line-height: 1.235; letter-spacing: 0.25px; }
        .headline-5 { font-size: 1.5rem; font-weight: 400; line-height: 1.334; letter-spacing: 0; }
        .headline-6 { font-size: 1.25rem; font-weight: 500; line-height: 1.6; letter-spacing: 0.15px; }
        .subtitle-1 { font-size: 1rem; font-weight: 400; line-height: 1.75; letter-spacing: 0.15px; }
        .subtitle-2 { font-size: 0.875rem; font-weight: 500; line-height: 1.57; letter-spacing: 0.1px; }
        .body-1 { font-size: 1rem; font-weight: 400; line-height: 1.5; letter-spacing: 0.5px; }
        .body-2 { font-size: 0.875rem; font-weight: 400; line-height: 1.43; letter-spacing: 0.25px; }
        .button-text { font-size: 0.875rem; font-weight: 500; line-height: 1.75; letter-spacing: 1.25px; text-transform: uppercase; }
        .caption { font-size: 0.75rem; font-weight: 400; line-height: 1.66; letter-spacing: 0.4px; }
        .overline { font-size: 0.75rem; font-weight: 400; line-height: 2.66; letter-spacing: 1px; text-transform: uppercase; }

        /* Dark mode enhancements */
        .dark .material-card {
            background-color: #1F2937;
            border-color: #374151;
        }

        .dark .material-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
    </style>
</head>

<body class="bg-neutral-50 dark:bg-neutral-900 font-sans transition-colors duration-200">
    <!-- Material Design App Bar -->
    <header class="bg-white dark:bg-neutral-800 shadow-material-2 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo & Brand -->
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center shadow-material-1">
                            <span class="material-icons text-white">science</span>
                        </div>
                        <div>
                            <h1 class="headline-6 text-neutral-800 dark:text-white">Chemistry Study Portal</h1>
                            <p class="caption text-neutral-600 dark:text-neutral-400">K-12 Chemistry Topics</p>
                        </div>
                    </div>
                </div>

                <!-- Navigation -->
                <nav class="hidden md:flex items-center space-x-1">
                    <a href="#" class="nav-btn px-4 py-2 text-primary font-medium button-text rounded-lg bg-primary/10">Topics</a>
                    <a href="#" class="nav-btn px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:text-primary button-text rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700">Practice</a>
                    <a href="#" class="nav-btn px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:text-primary button-text rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700">Lab</a>
                    <a href="#" class="nav-btn px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:text-primary button-text rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700">Resources</a>
                </nav>

                <!-- User Actions -->
                <div class="flex items-center space-x-3">
                    <button class="material-button w-10 h-10 bg-neutral-100 dark:bg-neutral-700 rounded-full flex items-center justify-center text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-600">
                        <span class="material-icons text-lg">search</span>
                    </button>
                    <div class="w-10 h-10 bg-accent rounded-full flex items-center justify-center shadow-material-1">
                        <span class="text-white font-medium text-sm">DM</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="fade-in">
            <!-- Chemistry Header -->
            <div class="mb-8">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h2 class="headline-4 text-neutral-800 dark:text-white mb-2">Chemistry Topics Hub</h2>
                        <p class="subtitle-1 text-neutral-600 dark:text-neutral-400">Comprehensive K-12 Chemistry Curriculum</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="text-right">
                            <p class="overline text-neutral-600 dark:text-neutral-400">Topics Available</p>
                            <div class="flex items-center space-x-2">
                                <span class="headline-6 text-accent">18</span>
                                <span class="body-2 text-neutral-600 dark:text-neutral-400">Total Chapters</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Search Section -->
                <div class="max-w-md mx-auto mb-8">
                    <div class="relative">
                        <input 
                            type="search" 
                            id="searchInput" 
                            placeholder="Search chemistry topics, concepts, or subtopics..."
                            class="w-full text-base px-4 py-3 pl-12 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-600 rounded-2xl focus:ring-2 focus:ring-accent focus:border-transparent outline-none text-neutral-900 dark:text-neutral-100 shadow-material-1"
                        >
                        <span class="material-icons absolute left-4 top-3.5 text-neutral-400">search</span>
                    </div>
                </div>
            </div>

            <!-- Topics Grid -->
            <div id="topicsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <!-- Topics will be populated by JavaScript -->
            </div>
            
            <!-- No Results Message -->
            <div id="noResults" class="hidden text-center py-12">
                <div class="text-neutral-500 dark:text-neutral-400">
                    <span class="material-icons text-4xl mb-4 block">search_off</span>
                    <h3 class="subtitle-1 mb-2">No topics found</h3>
                    <p class="body-2">Try adjusting your search terms or browse all topics</p>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                <div class="material-card bg-gradient-to-br from-accent to-accent-600 rounded-2xl p-6 text-white">
                    <div class="flex items-center space-x-3 mb-4">
                        <span class="material-icons text-2xl">calculate</span>
                        <h3 class="subtitle-1">Chemistry Calculator</h3>
                    </div>
                    <p class="body-2 mb-6 text-accent-100">Solve chemical equations with built-in formulas</p>
                    <button onclick="openCalculator()" class="material-button w-full px-4 py-3 bg-white text-accent rounded-xl shadow-material-1 hover:shadow-material-2">
                        <span class="button-text">Open Calculator</span>
                    </button>
                </div>

                <div class="material-card bg-gradient-to-br from-primary to-primary-600 rounded-2xl p-6 text-white">
                    <div class="flex items-center space-x-3 mb-4">
                        <span class="material-icons text-2xl">quiz</span>
                        <h3 class="subtitle-1">Chemical Quiz</h3>
                    </div>
                    <p class="body-2 mb-6 text-primary-100">Test your understanding with interactive quizzes</p>
                    <button onclick="startQuiz()" class="material-button w-full px-4 py-2 bg-white text-primary rounded-xl shadow-material-1 hover:shadow-material-2">
                        <span class="button-text">Start Quiz</span>
                    </button>
                </div>

                <div class="material-card bg-gradient-to-br from-warning to-orange-500 rounded-2xl p-6 text-white">
                    <div class="flex items-center space-x-3 mb-4">
                        <span class="material-icons text-2xl">biotech</span>
                        <h3 class="subtitle-1">Virtual Lab</h3>
                    </div>
                    <p class="body-2 mb-6 text-orange-100">Conduct chemistry experiments virtually</p>
                    <button onclick="openVirtualLab()" class="material-button w-full px-4 py-3 bg-white text-orange-600 rounded-xl shadow-material-1 hover:shadow-material-2">
                        <span class="button-text">Enter Lab</span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white dark:bg-neutral-800 border-t border-neutral-200 dark:border-neutral-700 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center">
                <p class="body-2 text-neutral-600 dark:text-neutral-400">&copy; 2025 Chemistry Study Portal. Designed by Raven.</p>
                <p class="caption text-neutral-500 dark:text-neutral-500 mt-2">Empowering the next generation of chemists</p>
            </div>
        </div>
    </footer>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Chemistry topics data with correct folder names and subtopic mappings
        const chemistryTopics = [
            {
                id: 1,
                title: "Separation of Mixtures and Purification of Chemical Substances",
                folderName: "1.separation-mixtures-purification",
                subtopics: [
                    "Pure and impure substances",
                    "Boiling and melting points", 
                    "Elements, compounds and mixtures",
                    "Chemical and physical changes",
                    "Separation processes: Evaporation, distillation, sublimation, filtration, crystallization, chromatography"
                ],
                subtopicFolders: [
                    "a.pure-impure-substances",
                    "b.boiling-melting-points", 
                    "c.elements-compounds-mixtures",
                    "d.chemical-physical-changes",
                    "e.separation-processes"
                ],
                icon: "filter_alt",
                color: "accent"
            },
            {
                id: 2,
                title: "Chemical Combination",
                folderName: "2.chemical-combination",
                subtopics: [
                    "Laws of definite, multiple and reciprocal proportions",
                    "Law of conservation of matter",
                    "Gay Lussac's law of combining volumes",
                    "Avogadro's law",
                    "Chemical symbols, formulae, equations",
                    "Relative atomic mass and mole concept",
                    "Stoichiometry of reactions"
                ],
                subtopicFolders: [
                    "a.laws-proportions",
                    "b.conservation-matter",
                    "c.gay-lussac-law",
                    "d.avogadro-law",
                    "e.chemical-symbols-formulas",
                    "f.atomic-mass-mole",
                    "g.stoichiometry"
                ],
                icon: "functions",
                color: "primary"
            },
            {
                id: 3,
                title: "Kinetic Theory of Matter and Gas Laws",
                folderName: "3.kinetic-theory-gas-laws",
                subtopics: [
                    "Phenomena supporting kinetic theory: melting, vaporization, boiling, freezing, condensation",
                    "Molecular motion and Brownian movement",
                    "Laws of Boyle, Charles, Graham and Dalton",
                    "Combined gas law and molar volume",
                    "Ideal gas equation (PV = nRT)",
                    "Relationship between vapour density and molecular mass"
                ],
                subtopicFolders: [
                    "a.kinetic-theory-phenomena",
                    "b.molecular-motion-brownian",
                    "c.gas-laws",
                    "d.combined-gas-law",
                    "e.ideal-gas-equation",
                    "f.vapour-density-molecular-mass"
                ],
                icon: "bubble_chart",
                color: "data"
            },
            {
                id: 4,
                title: "Atomic Structure and Bonding",
                folderName: "4.atomic-structure-bonding",
                subtopics: [
                    "Concept of atoms, molecules and ions",
                    "Works of Dalton, Millikan, Rutherford, Moseley, Thompson and Bohr",
                    "Atomic structure, electron configuration, isotopes",
                    "Shapes of s and p orbitals",
                    "Periodic table and periodicity",
                    "Chemical bonding: electrovalency and covalency",
                    "Shapes of simple molecules",
                    "Nuclear chemistry and radioactivity"
                ],
                subtopicFolders: [
                    "a.atoms-molecules-ions",
                    "b.atomic-theories",
                    "c.atomic-structure-configuration",
                    "d.orbital-shapes",
                    "e.periodic-table",
                    "f.chemical-bonding",
                    "g.molecular-shapes",
                    "h.nuclear-chemistry"
                ],
                icon: "link",
                color: "warning"
            },
            {
                id: 5,
                title: "Air",
                folderName: "5.air",
                subtopics: [
                    "Natural gaseous constituents and their proportions",
                    "Nitrogen, oxygen, water vapour, carbon dioxide",
                    "Noble gases (argon and neon)",
                    "Air as a mixture",
                    "Uses of noble gases"
                ],
                subtopicFolders: [
                    "a.gaseous-constituents",
                    "b.nitrogen-oxygen-co2",
                    "c.noble-gases",
                    "d.air-as-mixture",
                    "e.uses-noble-gases"
                ],
                icon: "air",
                color: "error"
            },
            {
                id: 6,
                title: "Water",
                folderName: "6.water",
                subtopics: [
                    "Water as product of hydrogen combustion",
                    "Water as a solvent and dissolved gases",
                    "Hard and soft water: temporary and permanent hardness",
                    "Treatment of water for town supply",
                    "Water of crystallization, efflorescence, deliquescence, hygroscopy"
                ],
                subtopicFolders: [
                    "a.water-composition",
                    "b.water-as-solvent",
                    "c.hard-soft-water",
                    "d.water-treatment",
                    "e.water-crystallization"
                ],
                icon: "water_drop",
                color: "premium"
            },
            {
                id: 7,
                title: "Solubility",
                folderName: "7.solubility",
                subtopics: [
                    "Saturated, unsaturated and supersaturated solutions",
                    "Solubility curves and calculations",
                    "Solvents for fats, oils and paints",
                    "True and false solutions: suspensions and colloids",
                    "Properties and examples of colloids"
                ],
                subtopicFolders: [
                    "a.types-solutions",
                    "b.solubility-curves",
                    "c.solvents-applications",
                    "d.true-false-solutions",
                    "e.colloids-properties"
                ],
                icon: "opacity",
                color: "accent"
            },
            {
                id: 8,
                title: "Environmental Pollution",
                folderName: "8.environmental-pollution",
                subtopics: [
                    "Sources and effects of pollutants",
                    "Air pollution: H2S, CO, SO2, nitrogen oxides, CFCs, dust",
                    "Water pollution: sewage and oil pollution",
                    "Soil pollution: oil spillage, biodegradable and non-biodegradable pollutants"
                ],
                subtopicFolders: [
                    "a.sources-effects-pollutants",
                    "b.air-pollution",
                    "c.water-pollution", 
                    "d.soil-pollution"
                ],
                icon: "eco",
                color: "primary"
            },
            {
                id: 9,
                title: "Acids, Bases and Salts",
                folderName: "9.acids-bases-salts",
                subtopics: [
                    "General characteristics, properties and uses",
                    "Acid/base indicators and basicity of acids",
                    "Types of salts: normal, acidic, basic, double",
                    "Conductance of strong and weak acids/bases",
                    "pH and pOH scale calculations",
                    "Acid/base titrations",
                    "Hydrolysis of salts"
                ],
                subtopicFolders: [
                    "a.characteristics-properties",
                    "b.indicators-basicity",
                    "c.types-salts",
                    "d.conductance",
                    "e.ph-poh-scale",
                    "f.titrations",
                    "g.hydrolysis-salts"
                ],
                icon: "science",
                color: "data"
            },
            {
                id: 10,
                title: "Oxidation and Reduction - Redox",
                folderName: "10.oxidation-reduction-redox",
                subtopics: [
                    "Oxidation as addition of oxygen or removal of hydrogen",
                    "Reduction as removal of oxygen or addition of hydrogen",
                    "Electron transfer in redox reactions",
                    "Use of oxidation numbers",
                    "IUPAC nomenclature using oxidation numbers",
                    "Tests for oxidizing and reducing agents"
                ],
                subtopicFolders: [
                    "a.oxidation-definition",
                    "b.reduction-definition",
                    "c.electron-transfer",
                    "d.oxidation-numbers",
                    "e.iupac-nomenclature",
                    "f.tests-agents"
                ],
                icon: "sync_alt",
                color: "warning"
            },
            {
                id: 11,
                title: "Electrolysis",
                folderName: "11.electrolysis",
                subtopics: [
                    "Electrolytes and non-electrolytes",
                    "Faraday's laws of electrolysis",
                    "Electrolysis of H2SO4, CuSO4, CuCl2, NaCl solutions",
                    "Factors affecting discharge of ions",
                    "Uses of electrolysis",
                    "Electrochemical cells and series",
                    "Corrosion as electrolytic process"
                ],
                subtopicFolders: [
                    "a.electrolytes-non-electrolytes",
                    "b.faraday-laws",
                    "c.electrolysis-examples",
                    "d.factors-discharge",
                    "e.uses-electrolysis",
                    "f.electrochemical-cells",
                    "g.corrosion"
                ],
                icon: "electrical_services",
                color: "error"
            },
            {
                id: 12,
                title: "Energy Changes",
                folderName: "12.energy-changes",
                subtopics: [
                    "Energy changes (ΔH) in physical and chemical changes",
                    "Dissolution and reaction with water",
                    "Endothermic (+ΔH) and exothermic (-ΔH) reactions",
                    "Entropy as order-disorder phenomenon",
                    "Spontaneity of reactions: ΔG criteria"
                ],
                subtopicFolders: [
                    "a.energy-changes-delta-h",
                    "b.dissolution-reactions",
                    "c.endothermic-exothermic",
                    "d.entropy",
                    "e.spontaneity-reactions"
                ],
                icon: "bolt",
                color: "premium"
            },
            {
                id: 13,
                title: "Rates of Chemical Reaction",
                folderName: "13.rates-chemical-reaction",
                subtopics: [
                    "Factors affecting reaction rates: temperature",
                    "Concentration/pressure effects",
                    "Surface area effects",
                    "Catalyst effects",
                    "Reaction rate curves",
                    "Activation energy and collision theory",
                    "Effect of light on reactions"
                ],
                subtopicFolders: [
                    "a.temperature-effects",
                    "b.concentration-pressure",
                    "c.surface-area",
                    "d.catalyst-effects",
                    "e.reaction-rate-curves",
                    "f.activation-energy",
                    "g.light-effects"
                ],
                icon: "speed",
                color: "accent"
            },
            {
                id: 14,
                title: "Chemical Equilibrium",
                folderName: "14.chemical-equilibrium",
                subtopics: [
                    "Reversible reactions",
                    "Factors governing equilibrium position",
                    "Dynamic equilibrium",
                    "Le Chatelier's principle",
                    "Equilibrium constant",
                    "Examples: steam on iron, N2O4 ⇌ 2NO2"
                ],
                subtopicFolders: [
                    "a.reversible-reactions",
                    "b.equilibrium-factors",
                    "c.dynamic-equilibrium",
                    "d.le-chatelier-principle",
                    "e.equilibrium-constant",
                    "f.examples"
                ],
                icon: "balance",
                color: "primary"
            },
            {
                id: 15,
                title: "Non-metals and Their Compounds",
                folderName: "15.non-metals-compounds",
                subtopics: [
                    "Hydrogen: production, properties, uses and tests",
                    "Halogens: chlorine preparation, properties, uses",
                    "Hydrogen chloride and hydrochloric acid",
                    "Oxygen and sulphur: preparation, properties, allotropes",
                    "Nitrogen: ammonia, trioxonitrate acid, nitrogen cycle",
                    "Carbon: allotropes, oxides, coal and coke"
                ],
                subtopicFolders: [
                    "a.hydrogen",
                    "b.halogens-chlorine",
                    "c.hydrogen-chloride",
                    "d.oxygen-sulphur",
                    "e.nitrogen-compounds",
                    "f.carbon-compounds"
                ],
                icon: "layers",
                color: "data"
            },
            {
                id: 16,
                title: "Metals and Their Compounds",
                folderName: "16.metals-compounds",
                subtopics: [
                    "General properties of metals",
                    "Alkali metals: sodium hydroxide, sodium carbonate, sodium chloride",
                    "Alkaline-earth metals: calcium compounds",
                    "Aluminium: purification, extraction, properties",
                    "Tin: extraction, properties, uses",
                    "Transition metals: characteristic properties",
                    "Iron: extraction, properties, steel",
                    "Copper: extraction, properties, compounds",
                    "Alloys: composition and uses"
                ],
                subtopicFolders: [
                    "a.general-properties",
                    "b.alkali-metals-sodium",
                    "c.alkaline-earth-calcium",
                    "d.aluminium",
                    "e.tin",
                    "f.transition-metals",
                    "g.iron",
                    "h.copper",
                    "i.alloys"
                ],
                icon: "hardware",
                color: "warning"
            },
            {
                id: 17,
                title: "Organic Compounds",
                folderName: "17.organic-compounds",
                subtopics: [
                    "Tetravalency of carbon, IUPAC nomenclature",
                    "Aliphatic hydrocarbons: alkanes, alkenes, alkynes",
                    "Aromatic hydrocarbons: benzene",
                    "Alkanols: primary, secondary, tertiary",
                    "Alkanals and alkanones",
                    "Alkanoic acids and alkanoates",
                    "Amines (alkanamines)",
                    "Carbohydrates: classification and tests",
                    "Proteins: structure, hydrolysis, tests, enzymes",
                    "Polymers: natural and synthetic"
                ],
                subtopicFolders: [
                    "a.carbon-tetravalency-nomenclature",
                    "b.aliphatic-hydrocarbons",
                    "c.aromatic-hydrocarbons",
                    "d.alkanols",
                    "e.alkanals-alkanones",
                    "f.alkanoic-acids-alkanoates",
                    "g.amines",
                    "h.carbohydrates",
                    "i.proteins",
                    "j.polymers"
                ],
                icon: "polyline",
                color: "error"
            },
            {
                id: 18,
                title: "Chemistry and Industry",
                folderName: "18.chemistry-industry",
                subtopics: [
                    "Chemical industries: types and classification",
                    "Raw materials and their relevance",
                    "Industrial processes and applications",
                    "Biotechnology in chemical industry",
                    "Environmental considerations",
                    "Economic importance of chemical industries"
                ],
                subtopicFolders: [
                    "a.chemical-industries-types",
                    "b.raw-materials",
                    "c.industrial-processes",
                    "d.biotechnology",
                    "e.environmental-considerations",
                    "f.economic-importance"
                ],
                icon: "factory",
                color: "premium"
            }
        ];

        // Function to get color classes based on color name
        function getColorClasses(colorName) {
            const colorMap = {
                primary: { bg: 'bg-primary', text: 'text-white' },
                accent: { bg: 'bg-accent', text: 'text-white' },
                data: { bg: 'bg-data-500', text: 'text-white' },
                warning: { bg: 'bg-warning', text: 'text-white' },
                error: { bg: 'bg-error', text: 'text-white' },
                premium: { bg: 'bg-premium-600', text: 'text-white' },
                success: { bg: 'bg-success', text: 'text-white' }
            };
            return colorMap[colorName] || colorMap.primary;
        }

        // Function to create topic card HTML
        function createTopicCard(topic) {
            const subtopicsHTML = topic.subtopics.length > 0 
                ? `<div class="mt-4 space-y-2">
                    ${topic.subtopics.slice(0, 3).map(subtopic => 
                        `<div class="body-2 text-neutral-600 dark:text-neutral-400 flex items-center">
                            <span class="material-icons text-xs mr-2 text-neutral-400">chevron_right</span>
                            ${subtopic}
                        </div>`
                    ).join('')}
                    ${topic.subtopics.length > 3 ? 
                        `<div class="caption text-neutral-500 dark:text-neutral-500 italic">
                            +${topic.subtopics.length - 3} more topics
                        </div>` : ''}
                   </div>`
                : '';

            const colors = getColorClasses(topic.color);

            return `
                <div class="material-card chemistry-card rounded-2xl p-6 shadow-material-1 interactive-element" 
                     data-folder="${topic.folderName}" 
                     data-title="${topic.title.replace(/"/g, '&quot;').replace(/'/g, '&#39;')}"
                     onclick="openTopic(this.dataset.folder, this.dataset.title)">
                    <div class="flex items-start justify-between mb-4">
                        <div class="w-12 h-12 ${colors.bg} rounded-xl flex items-center justify-center shadow-material-1">
                            <span class="material-icons ${colors.text}">${topic.icon}</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="caption bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400 px-2 py-1 rounded-full">
                                Topic ${topic.id}
                            </span>
                            ${topic.subtopics.length > 0 ? 
                                `<span class="caption bg-accent/10 text-accent px-2 py-1 rounded-full">
                                    ${topic.subtopics.length} parts
                                </span>` : ''}
                        </div>
                    </div>
                    
                    <h3 class="subtitle-1 mb-2 text-neutral-800 dark:text-neutral-100 leading-tight">
                        ${topic.title}
                    </h3>
                    
                    ${subtopicsHTML}
                    
                    <div class="flex items-center justify-end mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700">
                        <span class="material-icons text-neutral-400">arrow_forward</span>
                    </div>
                </div>
            `;
        }

        // Function to render topics
        function renderTopics(topics) {
            const grid = document.getElementById('topicsGrid');
            const noResults = document.getElementById('noResults');
            
            if (topics.length === 0) {
                grid.classList.add('hidden');
                noResults.classList.remove('hidden');
            } else {
                grid.classList.remove('hidden');
                noResults.classList.add('hidden');
                grid.innerHTML = topics.map(topic => createTopicCard(topic)).join('');
            }
        }

        // Function to highlight search terms
        function highlightSearchTerm(text, searchTerm) {
            if (!searchTerm) return text;
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="search-highlight">$1</span>');
        }

        // Search functionality
        function performSearch(searchTerm) {
            const filtered = chemistryTopics.filter(topic => {
                const titleMatch = topic.title.toLowerCase().includes(searchTerm.toLowerCase());
                const subtopicMatch = topic.subtopics.some(subtopic => 
                    subtopic.toLowerCase().includes(searchTerm.toLowerCase())
                );
                return titleMatch || subtopicMatch;
            });

            // Highlight search terms in results
            const highlightedTopics = filtered.map(topic => ({
                ...topic,
                title: highlightSearchTerm(topic.title, searchTerm),
                subtopics: topic.subtopics.map(subtopic => 
                    highlightSearchTerm(subtopic, searchTerm)
                )
            }));

            renderTopics(highlightedTopics);
        }

        // Function to handle topic opening
        function openTopic(folderName, title) {
            const topic = chemistryTopics.find(t => t.folderName === folderName);
            
            if (topic && topic.subtopics.length > 0) {
                // Topic has subtopics - show subtopic selection modal
                showSubtopicModal(topic);
            } else {
                // Topic has no subtopics - go directly to content
                showMaterialToast(`Opening ${title}...`, 'info');
                setTimeout(() => {
                    // Navigate to actual GitHub Pages directory structure
                    window.location.href = `https://demymichaels.github.io/raven/src/learning-materials/chemistry/${folderName}/`;
                }, 300);
            }
        }

        // Function to show subtopic selection modal
        function showSubtopicModal(topic) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            
            const colors = getColorClasses(topic.color);
            
            modal.innerHTML = `
                <div class="material-card bg-white dark:bg-neutral-800 rounded-2xl shadow-material-5 max-w-2xl w-full max-h-[80vh] overflow-hidden">
                    <!-- Modal Header -->
                    <div class="flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 ${colors.bg} rounded-xl flex items-center justify-center shadow-material-1">
                                <span class="material-icons ${colors.text}">${topic.icon}</span>
                            </div>
                            <div>
                                <h3 class="headline-6 text-neutral-800 dark:text-neutral-100">${topic.title}</h3>
                                <p class="body-2 text-neutral-600 dark:text-neutral-400">${topic.subtopics.length} subtopics available</p>
                            </div>
                        </div>
                        <button onclick="this.closest('.fixed').remove()" class="material-button w-10 h-10 bg-neutral-100 dark:bg-neutral-700 rounded-full flex items-center justify-center text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-600">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                    
                    <!-- Modal Content -->
                    <div class="p-6 overflow-y-auto max-h-[60vh]">
                        <div class="mb-4">
                            <button onclick="navigateToTopic('${topic.folderName}', '${topic.title}', 'overview')" class="w-full material-button bg-gradient-to-r ${colors.bg} hover:opacity-90 text-white rounded-xl p-4 mb-4 text-left">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="subtitle-1 mb-1">🧪 Complete Topic Overview</div>
                                        <div class="body-2 opacity-90">Comprehensive guide covering all aspects</div>
                                    </div>
                                    <span class="material-icons">arrow_forward</span>
                                </div>
                            </button>
                        </div>
                        
                        <div class="space-y-3">
                            <h4 class="subtitle-2 text-neutral-700 dark:text-neutral-300 mb-4">Individual Subtopics:</h4>
                            ${topic.subtopics.map((subtopic, index) => `
                                <button onclick="navigateToTopic('${topic.folderName}', '${topic.title}', ${index})" class="w-full material-button bg-neutral-50 dark:bg-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-600 rounded-xl p-4 text-left border border-neutral-200 dark:border-neutral-600">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-accent/10 dark:bg-accent/20 rounded-lg flex items-center justify-center">
                                                <span class="body-2 font-medium text-accent">${index + 1}</span>
                                            </div>
                                            <div>
                                                <div class="subtitle-2 text-neutral-800 dark:text-neutral-100">${subtopic}</div>
                                                <div class="caption text-neutral-600 dark:text-neutral-400">Subtopic ${index + 1} of ${topic.subtopics.length}</div>
                                            </div>
                                        </div>
                                        <span class="material-icons text-neutral-400">chevron_right</span>
                                    </div>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- Modal Footer -->
                    <div class="flex items-center justify-between p-6 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-750">
                        <div class="flex items-center space-x-2 text-neutral-600 dark:text-neutral-400">
                            <span class="material-icons text-sm">info</span>
                            <span class="caption">Choose overview for complete topic or individual subtopics</span>
                        </div>
                        <button onclick="this.closest('.fixed').remove()" class="material-button px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg">
                            <span class="button-text">Cancel</span>
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Add fade-in animation
            setTimeout(() => {
                modal.querySelector('.material-card').classList.add('fade-in');
            }, 50);
        }

        // Function to navigate to specific topic or subtopic
        function navigateToTopic(folderName, title, type) {
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) modal.remove();
            
            const topic = chemistryTopics.find(t => t.folderName === folderName);
            let url;
            let message;
            
            if (type === 'overview') {
                url = `https://demymichaels.github.io/raven/src/learning-materials/chemistry/${folderName}/`;
                message = `Opening ${title} overview...`;
            } else {
                // For subtopics, use the actual folder names from subtopicFolders
                const subtopicIndex = parseInt(type);
                if (topic && topic.subtopicFolders && topic.subtopicFolders[subtopicIndex]) {
                    const subtopicFolderName = topic.subtopicFolders[subtopicIndex];
                    url = `https://demymichaels.github.io/raven/src/learning-materials/chemistry/${folderName}/${subtopicFolderName}/`;
                    message = `Opening ${topic.subtopics[subtopicIndex]}...`;
                } else {
                    // Fallback to main topic if subtopic folder not found
                    url = `https://demymichaels.github.io/raven/src/learning-materials/chemistry/${folderName}/`;
                    message = `Opening ${title}...`;
                }
            }
            
            showMaterialToast(message, 'info');
            setTimeout(() => {
                window.location.href = url;
            }, 300);
        }

        // Material Design Toast System
        function showMaterialToast(message, type = 'info') {
            const toastContainer = document.getElementById('toast-container') || createToastContainer();

            const toast = document.createElement('div');
            const iconMap = {
                success: 'check_circle',
                error: 'error',
                warning: 'warning',
                info: 'info'
            };

            const colorMap = {
                success: 'bg-success text-white',
                error: 'bg-error text-white',
                warning: 'bg-warning text-white',
                info: 'bg-accent text-white'
            };

            toast.className = `material-card flex items-center space-x-3 px-6 py-4 rounded-2xl shadow-material-3 ${colorMap[type]} transform translate-y-2 opacity-0 transition-all duration-300 mb-4`;

            toast.innerHTML = `
                <span class="material-icons">${iconMap[type]}</span>
                <span class="subtitle-2 flex-1">${message}</span>
                <button onclick="this.parentElement.remove()" class="material-icons hover:bg-white/10 rounded-full p-1">close</button>
            `;

            toastContainer.appendChild(toast);

            // Animate in
            setTimeout(() => {
                toast.classList.remove('translate-y-2', 'opacity-0');
            }, 100);

            // Auto remove after 4 seconds
            setTimeout(() => {
                if (toast.parentElement) {
                    toast.classList.add('translate-y-2', 'opacity-0');
                    setTimeout(() => toast.remove(), 300);
                }
            }, 4000);
        }

        function createToastContainer() {
            const container = document.createElement('div');
            container.id = 'toast-container';
            container.className = 'fixed bottom-6 left-6 z-50 max-w-sm';
            document.body.appendChild(container);
            return container;
        }

        // Quick action functions
        function openCalculator() {
            showMaterialToast('Opening Chemistry Calculator...', 'info');
        }

        function startQuiz() {
            showMaterialToast('Starting Chemical Quiz...', 'info');
        }

        function openVirtualLab() {
            showMaterialToast('Entering Virtual Chemistry Lab...', 'info');
        }

        // Initialize search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.trim();
            if (searchTerm === '') {
                renderTopics(chemistryTopics);
            } else {
                performSearch(searchTerm);
            }
        });

        // Initial render
        renderTopics(chemistryTopics);

        // Make functions globally available
        window.openTopic = openTopic;
        window.navigateToTopic = navigateToTopic;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                showMaterialToast('Welcome to Chemistry Study Portal! ⚗️', 'success');
            }, 1000);
        });
    </script>
</body>
</html>
